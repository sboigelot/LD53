[gd_scene load_steps=31 format=2]

[ext_resource path="res://Buildings/Stockpile.tscn" type="PackedScene" id=1]
[ext_resource path="res://Actors/Drones/Drone.tscn" type="PackedScene" id=2]
[ext_resource path="res://Data/WaypointData.gd" type="Script" id=3]
[ext_resource path="res://Scenes/MapScene.gd" type="Script" id=4]
[ext_resource path="res://Buildings/WaterTower.tscn" type="PackedScene" id=5]
[ext_resource path="res://Buildings/Farm.tscn" type="PackedScene" id=6]
[ext_resource path="res://Buildings/MarketSalad.tscn" type="PackedScene" id=7]
[ext_resource path="res://Buildings/SalarBar.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scenes/MapUI.tscn" type="PackedScene" id=9]
[ext_resource path="res://Buildings/MarketBurger.tscn" type="PackedScene" id=10]
[ext_resource path="res://Buildings/Ranch.tscn" type="PackedScene" id=11]
[ext_resource path="res://Buildings/JustBurgers.tscn" type="PackedScene" id=12]

[sub_resource type="PlaneMesh" id=3]
size = Vector2( 100, 100 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.141176, 0.172549, 0.105882, 1 )

[sub_resource type="Resource" id=1]
script = ExtResource( 3 )
np_stockpile = NodePath("../ExportStockpile")
cargo_count = 1

[sub_resource type="Resource" id=2]
script = ExtResource( 3 )
np_stockpile = NodePath("../ImportStockpile")
cargo_count = 1

[sub_resource type="Resource" id=5]
script = ExtResource( 3 )
np_stockpile = NodePath("../WaterTower/Stockpiles/Stockpile")
cargo_count = 2

[sub_resource type="Resource" id=6]
script = ExtResource( 3 )
np_stockpile = NodePath("../Farm/Stockpiles/Input")
cargo_count = 2

[sub_resource type="Resource" id=7]
script = ExtResource( 3 )
np_stockpile = NodePath("../Farm/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=8]
script = ExtResource( 3 )
np_stockpile = NodePath("../ImportStockpile")
cargo_count = 1

[sub_resource type="Resource" id=9]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Farm/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=10]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/RestoSalad/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Resource" id=11]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/RestoSalad/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=12]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/MarketSalad/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Resource" id=13]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Farm/Stockpiles/Output")
cargo_count = 3

[sub_resource type="Resource" id=14]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Ranch/Stockpiles/Input")
cargo_count = 3

[sub_resource type="Resource" id=19]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Ranch/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=20]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/JustBurgers/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Resource" id=17]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/JustBurgers/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=18]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/MarketBurger/Stockpiles/Input")
cargo_count = 1

[node name="MapScene" type="Spatial"]
script = ExtResource( 4 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.819152, 0.573577, 0, -0.573577, 0.819152, 0, 22, 30 )
projection = 1
current = true
fov = 23.6
size = 20.0

[node name="Plane" type="MeshInstance" parent="."]
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="Drones" type="Spatial" parent="."]

[node name="Drone1" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.71466 )
route = [ SubResource( 1 ), SubResource( 2 ) ]

[node name="Drone2" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
cargo_max = 2
route = [ SubResource( 5 ), SubResource( 6 ), SubResource( 7 ), SubResource( 8 ) ]

[node name="Drone3" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
cargo_max = 2
route = [ SubResource( 5 ), SubResource( 6 ) ]

[node name="Drone4" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
route = [ SubResource( 9 ), SubResource( 10 ) ]

[node name="Drone5" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
route = [ SubResource( 11 ), SubResource( 12 ) ]

[node name="Drone6" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
cargo_max = 3
route = [ SubResource( 13 ), SubResource( 14 ) ]

[node name="Drone7" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
cargo_max = 3
route = [ SubResource( 19 ), SubResource( 20 ) ]

[node name="Drone8" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
cargo_max = 3
route = [ SubResource( 17 ), SubResource( 18 ) ]

[node name="Buildings" type="Spatial" parent="."]

[node name="StockpileNodePathSource" type="Spatial" parent="Buildings"]

[node name="ExportStockpile" parent="Buildings" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.26106, 0, -6.12889 )
cargo_count = 3
cargo_type = "vegetable"

[node name="ImportStockpile" parent="Buildings" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.11899, 0, -9.73255 )
import = true
cargo_type = "vegetable"

[node name="WaterTower" parent="Buildings" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.72604, 0, -6.12499 )

[node name="Stockpile" parent="Buildings/WaterTower/Stockpiles" index="0"]
transform = Transform( 0.690983, 0, 0.722871, 0, 1, 0, -0.722871, 0, 0.690983, 0.988391, 0, 1.44266 )

[node name="Farm" parent="Buildings" instance=ExtResource( 6 )]
transform = Transform( 0.449413, 0, -0.893324, 0, 1, 0, 0.893324, 0, 0.449413, 6.21252, 0, -6.02114 )

[node name="Output" parent="Buildings/Farm/Stockpiles" index="1"]
cargo_count = 2

[node name="RestoSalad" parent="Buildings" instance=ExtResource( 8 )]
transform = Transform( 0.081521, 0, -0.996672, 0, 1, 0, 0.996672, 0, 0.081521, 10.5085, 0, -2.56809 )

[node name="MarketSalad" parent="Buildings" instance=ExtResource( 7 )]
transform = Transform( -0.674831, 0, -0.737973, 0, 1, 0, 0.737973, 0, -0.674831, 5.72722, 0, 2.12353 )

[node name="WarningNoOutputSpaceSprite3D" parent="Buildings/MarketSalad/Warnings" index="1"]
visible = false

[node name="Ranch" parent="Buildings" instance=ExtResource( 11 )]
transform = Transform( -0.305778, 0, 0.952103, 0, 1, 0, -0.952103, 0, -0.305778, -9.61072, 9.53674e-07, -0.445289 )

[node name="JustBurgers" parent="Buildings" instance=ExtResource( 12 )]
transform = Transform( 0.616926, 0, 0.787021, 0, 1, 0, -0.787021, 0, 0.616926, -10.4578, 1.90735e-06, 4.10674 )

[node name="MarketBurger" parent="Buildings" instance=ExtResource( 10 )]
transform = Transform( -0.0736734, 0, -0.997282, 0, 1, 0, 0.997282, 0, -0.0736734, 0.162072, 0, 2.5459 )

[node name="MapUI" parent="." instance=ExtResource( 9 )]

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.178567, -0.625406, 0.759593, 0.14312, 0.780299, 0.60881, -0.973463, 1.98914e-11, 0.228844, 7.05351, 3.04778, 0 )

[editable path="Buildings/WaterTower"]
[editable path="Buildings/Farm"]
[editable path="Buildings/RestoSalad"]
[editable path="Buildings/MarketSalad"]
[editable path="Buildings/Ranch"]
[editable path="Buildings/JustBurgers"]
[editable path="Buildings/MarketBurger"]
