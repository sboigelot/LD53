[gd_scene load_steps=36 format=2]

[ext_resource path="res://Buildings/Furnitures/Stockpile.tscn" type="PackedScene" id=1]
[ext_resource path="res://Actors/Drones/Drone.tscn" type="PackedScene" id=2]
[ext_resource path="res://Data/WaypointData.gd" type="Script" id=3]
[ext_resource path="res://Scenes/MapScene.gd" type="Script" id=4]
[ext_resource path="res://Buildings/Factories/WaterTower.tscn" type="PackedScene" id=5]
[ext_resource path="res://Buildings/Factories/Farm.tscn" type="PackedScene" id=6]
[ext_resource path="res://Buildings/Factories/SaladResto.tscn" type="PackedScene" id=7]
[ext_resource path="res://Buildings/Factories/SalarKitchen.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scenes/MapUI.tscn" type="PackedScene" id=9]
[ext_resource path="res://Buildings/Factories/BurgerResto.tscn" type="PackedScene" id=10]
[ext_resource path="res://Buildings/Factories/Ranch.tscn" type="PackedScene" id=11]
[ext_resource path="res://Buildings/Factories/BurgerKitchen.tscn" type="PackedScene" id=12]
[ext_resource path="res://Buildings/DroneGarage.tscn" type="PackedScene" id=13]
[ext_resource path="res://Buildings/Land.tscn" type="PackedScene" id=14]
[ext_resource path="res://Buildings/Factories/Warehouse.tscn" type="PackedScene" id=15]

[sub_resource type="PlaneMesh" id=3]
size = Vector2( 100, 100 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.141176, 0.172549, 0.105882, 1 )

[sub_resource type="Resource" id=1]
script = ExtResource( 3 )
np_stockpile = NodePath("../ExportStockpile")
cargo_count = 1

[sub_resource type="Resource" id=2]
script = ExtResource( 3 )
np_stockpile = NodePath("../ImportStockpile")
cargo_count = 1

[sub_resource type="Resource" id=5]
script = ExtResource( 3 )
np_stockpile = NodePath("../WaterTower/Stockpiles/Stockpile")
cargo_count = 2

[sub_resource type="Resource" id=6]
script = ExtResource( 3 )
np_stockpile = NodePath("../Farm/Stockpiles/Input")
cargo_count = 2

[sub_resource type="Resource" id=7]
script = ExtResource( 3 )
np_stockpile = NodePath("../Farm/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=8]
script = ExtResource( 3 )
np_stockpile = NodePath("../ImportStockpile")
cargo_count = 1

[sub_resource type="Resource" id=9]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Farm/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=10]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/RestoSalad/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Resource" id=11]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/RestoSalad/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=12]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/MarketSalad/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Resource" id=13]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Farm/Stockpiles/Output")
cargo_count = 3

[sub_resource type="Resource" id=14]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Ranch/Stockpiles/Input")
cargo_count = 3

[sub_resource type="Resource" id=19]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/Ranch/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=20]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/JustBurgers/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Resource" id=17]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/JustBurgers/Stockpiles/Output")
cargo_count = 1

[sub_resource type="Resource" id=18]
script = ExtResource( 3 )
np_stockpile = NodePath("../../Buildings/MarketBurger/Stockpiles/Input")
cargo_count = 1

[sub_resource type="Animation" id=21]
resource_name = "Cycle"
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Visual:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 1 ),
"transitions": PoolRealArray( 2, 0.5, 1 ),
"update": 0,
"values": [ Vector3( 1, 1, 1 ), Vector3( 1.05, 1.05, 1.05 ), Vector3( 1, 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Visual:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 0.1, 0 ), Vector3( 0, 0, 0 ) ]
}

[sub_resource type="Animation" id=22]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Visual:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 1, 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Visual:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ) ]
}

[node name="MapScene" type="Spatial"]
script = ExtResource( 4 )
np_map_ui = NodePath("MapUI")

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.819152, 0.573577, 0, -0.573577, 0.819152, 0, 22, 30 )
projection = 1
current = true
fov = 23.6
size = 20.0

[node name="Plane" type="MeshInstance" parent="."]
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="Drones" type="Spatial" parent="."]

[node name="Drone1" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.71466 )
visible = false
route = [ SubResource( 1 ), SubResource( 2 ) ]

[node name="Drone2" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
cargo_max = 2
route = [ SubResource( 5 ), SubResource( 6 ), SubResource( 7 ), SubResource( 8 ) ]

[node name="Drone3" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
cargo_max = 2
route = [ SubResource( 5 ), SubResource( 6 ) ]

[node name="Drone4" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
route = [ SubResource( 9 ), SubResource( 10 ) ]

[node name="Drone5" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
route = [ SubResource( 11 ), SubResource( 12 ) ]

[node name="Drone6" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
cargo_max = 3
route = [ SubResource( 13 ), SubResource( 14 ) ]

[node name="Drone7" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
cargo_max = 3
route = [ SubResource( 19 ), SubResource( 20 ) ]

[node name="Drone8" parent="Drones" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28644, 0, 4.71466 )
visible = false
cargo_max = 3
route = [ SubResource( 17 ), SubResource( 18 ) ]

[node name="Buildings" type="Spatial" parent="."]

[node name="StockpileNodePathSource" type="Spatial" parent="Buildings"]
visible = false

[node name="ExportStockpile" parent="Buildings" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.26106, 0, -6.12889 )
visible = false
cargo_count = 3
cargo_type = "vegetable"

[node name="ImportStockpile" parent="Buildings" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.11899, 0, -9.73255 )
visible = false
import = true
cargo_type = "vegetable"

[node name="WaterTower" parent="Buildings" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.72604, 0, -6.12499 )

[node name="Stockpile" parent="Buildings/WaterTower/Stockpiles" index="0"]
transform = Transform( 0.690983, 0, 0.722871, 0, 1, 0, -0.722871, 0, 0.690983, 0.988391, 0, 1.44266 )

[node name="WaterTower2" parent="Buildings" instance=ExtResource( 5 )]
transform = Transform( 0.38589, 0, 0.922545, 0, 1, 0, -0.922545, 0, 0.38589, -10.7041, 0, -6.73347 )

[node name="AnimationPlayer" parent="Buildings/WaterTower2" index="1"]
anims/Cycle = SubResource( 21 )
anims/RESET = SubResource( 22 )

[node name="Stockpile" parent="Buildings/WaterTower2/Stockpiles" index="0"]
transform = Transform( 0.690983, 0, 0.722871, 0, 1, 0, -0.722871, 0, 0.690983, 0.988391, 0, 1.44266 )

[node name="Farm" parent="Buildings" instance=ExtResource( 6 )]
transform = Transform( 0.578057, 0, 0.815997, 0, 1, 0, -0.815997, 0, 0.578057, 6.1141, 0, -8.36852 )

[node name="RestoSalad" parent="Buildings" instance=ExtResource( 8 )]
transform = Transform( 0.081521, 0, -0.996672, 0, 1, 0, 0.996672, 0, 0.081521, 10.5085, 0, -2.56809 )

[node name="MarketSalad" parent="Buildings" instance=ExtResource( 7 )]
transform = Transform( 0.422571, 0, 0.90633, 0, 1, 0, -0.90633, 0, 0.422571, 3.05955, 0, 1.90177 )

[node name="CollisionShape" parent="Buildings/MarketSalad/Visual/MeshInstance/StaticBody" index="0"]
transform = Transform( 1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, 0, 0 )

[node name="WarningNoOutputSpaceSprite3D" parent="Buildings/MarketSalad/Warnings" index="1"]
visible = false

[node name="Ranch" parent="Buildings" instance=ExtResource( 11 )]
transform = Transform( 0.192641, 0, -0.981269, 0, 1, 0, 0.981269, 0, 0.192641, -9.61072, 9.53674e-07, -0.445289 )

[node name="ranch" parent="Buildings/Ranch/Visual/ranch" index="0"]
transform = Transform( 1.78814e-07, 0, 0.9, 0, 0.9, 0, -0.9, 0, 1.78814e-07, 0, 0.45, 0 )

[node name="JustBurgers" parent="Buildings" instance=ExtResource( 12 )]
transform = Transform( 0.616926, 0, 0.787021, 0, 1, 0, -0.787021, 0, 0.616926, -10.4578, 1.90735e-06, 4.10674 )

[node name="MarketBurger" parent="Buildings" instance=ExtResource( 10 )]
transform = Transform( 0.973255, 0, -0.229727, 0, 1, 0, 0.229727, 0, 0.973255, -0.557939, 0, 1.0411 )

[node name="DroneGarage" parent="Buildings" instance=ExtResource( 13 )]
transform = Transform( 0.875953, 0, 0.482396, 0, 1, 0, -0.482396, 0, 0.875953, -6.18188, -9.53674e-07, -2.39907 )

[node name="Land" parent="Buildings" instance=ExtResource( 14 )]
transform = Transform( 0.702066, 0, -0.712112, 0, 1, 0, 0.712112, 0, 0.702066, 1.35407, 0, -10.3044 )

[node name="Warehouse" parent="Buildings" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 10.9012, 0, 3.74791 )

[node name="MapUI" parent="." instance=ExtResource( 9 )]

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.178567, -0.625406, 0.759593, 0.14312, 0.780299, 0.60881, -0.973463, 1.98914e-11, 0.228844, 7.05351, 3.04778, 0 )

[editable path="Buildings/WaterTower"]
[editable path="Buildings/WaterTower/Visual/watertower"]
[editable path="Buildings/WaterTower2"]
[editable path="Buildings/WaterTower2/Visual/watertower"]
[editable path="Buildings/Farm"]
[editable path="Buildings/Farm/Visual/farm"]
[editable path="Buildings/RestoSalad"]
[editable path="Buildings/MarketSalad"]
[editable path="Buildings/Ranch"]
[editable path="Buildings/Ranch/Visual/ranch"]
[editable path="Buildings/JustBurgers"]
[editable path="Buildings/MarketBurger"]
